<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AnimeFlix">
  <meta name="keywords" content="html, css, anime">
  <title>AnimeFlix</title>
  <link rel="stylesheet" href="./assets/css/styles.css">
  <script src="https://kit.fontawesome.com/3d68344ae4.js" crossorigin="anonymous"></script>
</head>

<body>
  <header class="nav">
    <nav class="nav__container">
      <h1 class="nav__title">AnimeFlix</h1>
      <a href="https://www.aluracursos.com/" target="_blank" title="Alura Cursos">
        <img src="https://www.aluracursos.com/assets/img/home/alura-logo.1686744883.svg" alt=""
          class="alura-latam-logo">
      </a>

    </nav>
  </header>

  <main class="main">

    <section class="data__form">

      <div class="glass form">
        <div class="control">
          <label for="name">Nombre:</label>
          <input type="text" name="name" id="name" placeholder="Ej. One Piece" autofocus>
        </div>
        <div class="control">
          <label for="url_image">Url Imagen:</label>
          <input type="text" name="url_image" id="url_image" placeholder="Ej. https://...">
        </div>
        <div class="control">
          <label for="trailer">Url Trailer:</label>
          <input type="text" name="trailer" id="trailer" placeholder="Ej. https://...">
        </div>
        <div class="buttons">
          <button id="save" class="btn btn__primary">Guardar</button>
        </div>
      </div>

    </section>
    <section class="data">
      <div class="data__list" id="data__list">
        <!-- 
        <article class="card">
          <div class="card--image">
            <img src="https://cdn.myanimelist.net/images/anime/3/40451.jpg" alt="Bleach">
          </div>

          <div class="card--title">
            <p>
              Bleach
            </p>
          </div>
          <div class="actions">
            <button class="btn remove">Elimiar</button>
          </div>
        </article>

        <article class="card">
          <div class="card--image">
            <img src="https://cdn.myanimelist.net/images/anime/3/40451.jpg" alt="Bleach">
          </div>

          <div class="card--title">
            <p>
              Bleach
            </p>
          </div>
          <div class="actions">
            <button class="btn remove">Elimiar</button>
          </div>
        </article>

        <article class="card">
          <div class="card--image">
            <img src="https://cdn.myanimelist.net/images/anime/3/40451.jpg" alt="Bleach">
          </div>

          <div class="card--title">
            <p>
              Bleach
            </p>
          </div>
          <div class="actions">
            <button class="btn remove">Elimiar</button>
          </div>
        </article>
        -->
      </div>
    </section>

  </main>

  <footer class="footer glass">
    <p>Emmanuel Lucio Urbina</p>
    <a href="https://www.linkedin.com/in/emmanuelluur/" title="Emmanuel Lucio Urbina" target="_blank"><i
        class="fa-brands fa-linkedin"></i></a>
    <a href="https://github.com/vidaencodigo" title="Vida en Codigo" target="_blank"><i
        class="fa-brands fa-github"></i></a>
  </footer>

  <script src="./assets/js/main.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", (e) => {
      const anime = new AnimeFlix();
      const save = document.getElementById("save");

      save.addEventListener("click", (e) => {
        const list = document.getElementById("data__list");
        const name = document.getElementById("name").value;
        const url = document.getElementById("url_image").value;
        const trailer = document.getElementById("trailer").value;
        if (name && url) {
          if (anime.__validation_image(url)) {
            anime.save(name, url, trailer);
            console.log(anime.show_all());
            list.innerHTML = "";
            anime.create_card(list);
          } else {
            alert("Formato de imagen no valido, para: " + name + " " + url);
          }
        } else {
          alert("Complete todos los campos");
        }
        document.getElementById("trailer").value = "";
        document.getElementById("name").value = "";
        document.getElementById("url_image").value = "";
      })
    })
  </script>
</body>

</html>